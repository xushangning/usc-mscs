# Assignment 2

Shangning Xu

The key exchange protocol used are different in both protocols. TLS in HTTPS doesn't authenticate the web client, so the client doesn't need to send any information about itself for authentication, while authentication is required for the client in IKE. There are two distinct phases and two modes to choose from in IKE, while there is no such distinction of phases or modes in TLS.

The difference in key exchange protocols extends to how keys are negotiated. In TLS, there are four keys used to secure the HTTP connection: two keys for encryption for either direction in the connection, and two keys for integrity check in either direction. These four keys are derived from the Master Secret (MS), which is in turn derived from the Pre-Master Secret (PMS) which is the actual key exchanged during the TLS handshake. In IKE, the main mode exchanges six messages in three round trips with support for more options, while the quick mode exchanges four messages in two round trips and supports fewer options. In the main mode, the initiator, the party that hopes to initiate the connection, first sends a header. The responder then replies with a header that specifies the SA it wants to establish. In the second round, the initiator sends a header with a nonce and maybe a certificate request as an additional authentication method and also initiates the Diffie-Hellman key exchange and the responder similarly responds with a header, a nonce and its certificate request. In the final round, signed hashes will be exchanged.

The security protection offered by both protocols is different. If IPsec is using the Authenticated Header (AH) protocol, only integrity, but not confidentiality, is provided, while TLS offers both confidentiality and integrity protection.

The subjects authenticated are different in the protocols. If IPsec is used to protect the communication between a web browser and a web server, we can assume that the transport mode is used for IPsec. In this case, both the user and the host running the web server are authenticated. For TLS, the user or the web browser is never authenticated, while the web server application (i.e., the process on the web server that is processing web requests) is authenticated.

The authentication methods are also different. For TLS in HTTPS, the predominant authentication method is using a server certificate, while IPsec allows the use of pre-shared keys or certificates.

IPsec and TLS operate at different protocol layer. IPsec operates at the network layer and TLS at the transport layer. A direct consequence is the different positions of headers in the whole packets: IPsec header follows the IP header while TLS follows the TCP header. Operating at the network layer, IPsec is able to protect the confidentiality and integrity of TCP header while TLS cannot. IPsec being a network layer also means that the application can obtain IPsec's protection without modification to itself. The same thing can't be said of TLS as it's the application's responsibility to choose which transport-layer protocol to use. For example, if a web server doesn't implement TLS for HTTP, it is impossible to enable the support for TLS without modifying the web server's source code yourself, but that won't be a problem for IPsec.

TLS computes the message authentication code from the plaintext and the encrypts both plaintext and the MAC, while ESP in IPsec encrypts only the plaintext and then computes MAC on the ciphertext.
