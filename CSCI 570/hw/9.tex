\documentclass{article}

\usepackage{enumitem}
\setlist[enumerate, 1]{label=\alph*)}
\usepackage{tikz}
\usetikzlibrary{graphs.standard, quotes}

\title{Answers to Homework 9}
\author{Shangning Xu}

\begin{document}

\maketitle

\section*{Problem 1.}

\begin{enumerate}
    \item We add a source vertex and connect it to all vertices with negative demand and a sink and connect all vertices with positive demand to it. The flow network has a feasible circulation if and only if its maximum flow value is equal to the sum of the positive demands.
    \item To satisfy the lower bounds, We add a flow $f_0$ whose value is equal to the lower bound on each edge by modifying demands and edge capacities accordingly, as illustrated in the graph below.
    \begin{center}
        \tikz \graph [no placement, empty nodes, nodes={draw, circle}] {
            a [y=1, "$(-5)$"] -> ["9"] b [x=2, y=2, "$(-7)$"] -> ["5" left] c [x=2.5, "(7)" below];
            a -> ["2" below] c;
            d [x=4, y=2.5, "$(-5)$"] -> ["6"] c;
            e [x=5, y=1, "(1)" below] -> ["3" right] d;
            b -> ["6"] e;
            d -> ["8"] f [x=5.7, y=1.8, "(13)"];
            e -> ["3" below right] f;
        };
    \end{center}

    With lower bounds removed, the circulation problem can be transformed into a maximum flow problem the same way as discussed in a).
\end{enumerate}

\section*{Problem 2.}

\begin{enumerate}
    \item False. Consider the following graph. The maximum flow is 1, which means either the path $(s, a, b)$ or $(s, c, b)$ will have a flow value of 0, an even number.
    \begin{center}
        \tikz \graph [math nodes, nodes={circle, draw}] {
            subgraph I_n [V={a, b, c, s}, clockwise];
            s-> ["1"] {a, c} -> ["1"] b -> ["1"] t [right of=b];
        };
    \end{center}

    \item True. There is no augmenting path in the residual network, so the flow must be maximum.
    
    \item True. To find the maximum flow, sum the capacities of edges crossing the $(S, T)$ cut.
\end{enumerate}

\section*{Problem 3.}

The problem can be formulated as a circulation problem with lower bounds. Define the corresponding flow network to an instance of the given problem as follows.
\begin{enumerate}
    \item Add a vertex for each customer and product. Add a source and connect it to every customer vertex with capacity lower bound $c_i$ and upper bound $c_i'$ for customer $i$. Add a sink and connect every product vertex to it with capacity bounds $[p_i, p_i']$ for product $i$.
    \item Add an edge $(u, v)$ with unit capacity between customer $u$ and product $v$ if $u$ has purchased the product $v$.
\end{enumerate}

The problem has a solution if and only if the corresponding circulation problem with lower bounds has a feasible circulation, which can be converted into a maximum flow problem.

\section*{Problem 4.}

The problem can be formulated as a maximum flow problem. Define the corresponding flow network to an instance of the given problem as follows.
\begin{enumerate}
    \item Add a vertex for each client and base station. Add a source and connect it to every client with unit capacity. Add a sink and connect every base station vertex to it with capacity $L$.
    \item Add an edge $(u, v)$ with unit capacity between client $u$ and base station $v$ if $u$ is within the range of $v$.
\end{enumerate}

Every client can be simultaneously connected if and only if the maximum flow on the corresponding flow network has a value of $n$.

\section*{Problem 5.}

The problem formulation and solution is similar to Problem 4.

\end{document}
